<div class="bg-white rounded-lg p-3 shadow-sm border border-gray-200 cursor-pointer hover:shadow-md transition-shadow"
     id="<%= dom_id(card) %>"
     data-sort-url="<%= sort_project_list_card_path(@project, card.list, card) %>">

  <div class="flex justify-between items-start mb-2">
    <h4 class="font-medium text-gray-900 flex-1 cursor-pointer">
      <%= link_to card.title, project_list_card_path(@project, card.list, card),
                  data: {
                    turbo_method: :get,
                    turbo_frame: "_top"
                  },
                  class: "text-gray-900 hover:text-blue-600" %>
    </h4>
    <div class="flex space-x-1 ml-2">
      <%= link_to "✏️", edit_project_list_card_path(@project, card.list, card),
                  class: "text-gray-400 hover:text-gray-600 text-sm",
                  data: {
                    turbo_method: :get,
                    turbo_frame: "_top"
                  } %>
      <%= link_to "🗑️", project_list_card_path(@project, card.list, card),
                  method: :delete,
                  class: "text-red-400 hover:text-red-600 text-sm",
                  confirm: "Tem certeza?",
                  data: { turbo_method: :delete } %>
    </div>
  </div>

  <% if card.description.present? %>
    <p class="text-gray-600 text-sm mb-2"><%= truncate(card.description, length: 100) %></p>
  <% end %>

  <div class="flex justify-between items-center text-xs text-gray-500">
    <% if card.due_date %>
      <span class="<%= card.due_date < Date.current ? 'text-red-500 font-medium' : 'text-gray-500' %>">
        📅 <%= card.due_date.strftime("%d/%m") %>
      </span>
    <% end %>

    <% if card.assignee %>
      <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full">
        <%= card.assignee.name.first %>
      </span>
    <% end %>
  </div>
</div>
